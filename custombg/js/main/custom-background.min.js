/* custom-background.js 1.0.0 */

function Defaultbg(){localStorage.setItem("bg_mode","defaultbg");document.body.style.background="url(custombg/images/bg-themes/all/all1.jpg)";save_opt("no");$("#save-prompt").fadeIn(1).fadeOut(1500)}function show_main_div(){$("#options-window").fadeToggle()}function allclear(){$("#options-window").fadeOut()}function changeimage(e){image="url("+document.getElementById(e).src+")";document.body.style.background=image;path=document.getElementById(e).src}function changecolor(e){var t=true;color=document.getElementById(e).style.backgroundColor;document.body.style.background=document.getElementById(e).style.backgroundColor}function savecol(){localStorage.col=color;localStorage.bg_mode="choosen_color";$("#save-prompt").fadeIn(1).fadeOut(1500)}function refreshed(){window.location.href=window.location.href}function Close(){$("#options-window").fadeOut()}function saveimg(){localStorage.bg_mode="choosen_image";$("#save-prompt").fadeIn(1).fadeOut(1500);image=document.createElement("img");document.body.appendChild(image);image.setAttribute("style","display:none");image.setAttribute("alt","script div");image.setAttribute("src",path);var e=document.createElement("canvas"),t=e.getContext("2d");e.width=image.width;e.height=image.height;t.drawImage(image,0,0,image.width,image.height);imgInfom=e.toDataURL("image/png");localStorage.setItem("imgInfo",imgInfom);document.body.style.background="url("+imgInfom+")"}function savecustom_img(){localStorage.bg_mode="custom_image";$("#save-prompt").fadeIn(1).fadeOut(1500)}function savecustom_col(){color=$(".color").val();localStorage.bg_mode="custom_color";localStorage.col="#"+color;$("#save-prompt").fadeIn(1).fadeOut(1500)}function get_time(){localStorage.img_time=$("#img-time").val();$("#demo").val(localStorage.img_time)}function bg_size(){bgsize=$("#bg-size-opt").val();$("body").css("background-size",bgsize)}function bg_repeat(){bgrepeat=$("#bg-repeat-opt").val();$("body").css("background-repeat",bgrepeat)}function bg_pos(){bgposition=$("#bg-pos-opt").val();$("body").css("background-position",bgposition)}function save_opt(e){if(e=="more-opt"){$("#save-prompt").fadeIn(1).fadeOut(1500);localStorage.bg_size=bgsize;localStorage.bg_pos=bgposition;localStorage.bg_repeat=bgrepeat;localStorage.img_time=time;$("#bg-size-opt option[value='"+localStorage.bg_size+"']").attr("selected","selected");$("#bg-repeat-opt option[value='"+localStorage.bg_repeat+"']").attr("selected","selected");$("#bg-pos-opt option[value='"+localStorage.bg_pos+"']").attr("selected","selected");$("#img-time option[value='"+localStorage.img_time+"']").attr("selected","selected")}else{$("#save-prompt").fadeIn(1).fadeOut(1500);localStorage.bg_size="cover";localStorage.bg_pos="inherit";localStorage.bg_repeat="no-repeat";localStorage.img_time=5e3;$("#bg-size-opt option[value='"+localStorage.bg_size+"']").attr("selected","selected");$("#bg-repeat-opt option[value='"+localStorage.bg_repeat+"']").attr("selected","selected");$("#bg-pos-opt option[value='"+localStorage.bg_pos+"']").attr("selected","selected");$("#img-time option[value='"+localStorage.img_time+"']").attr("selected","selected")}}function demo_image(){}function openBackground(){var e=localStorage.getItem("bgimg");if(e!=null||e!=""){$("body").css("background","url("+e+")")}else{$("body").css("background","none")}}function loadImageFile(e){if(!e.files.length){return}var t=backgroundbtn.files[0];if(!rFilter.test(t.type)){alert("You must select a valid image file!");return}oFReader.readAsDataURL(t)}function switchBackground(){var e=localStorage.getItem("bgimg");if(e==null||e==""){$("body").css("background",'url("img/wallpaper.jpg")')}else{$("body").css("background","url("+localStorage.getItem("bgimg")+")")}}function defaultbg(){$("body").css("background",'url("img/all/all3.jpg")');localStorage.removeItem("bgimg")}function bg_adjust(){if(localStorage.bg_size!="null"){document.body.style.backgroundSize=localStorage.bg_size}if(localStorage.bg_size==null){document.body.style.backgroundSize="cover"}if(localStorage.bg_pos!="null"){document.body.style.backgroundPosition=localStorage.bg_pos}if(localStorage.bg_pos==null){document.body.style.backgroundPosition="inherit"}if(localStorage.bg_repeat!="null"){document.body.style.backgroundRepeat=localStorage.bg_repeat}if(localStorage.bg_repeat==null){document.body.style.backgroundRepeat="no-repeat"}}function RND(){var e=(Math.floor(Math.random()*16777215)+1).toString(16);while(e.length<6)e="0"+e;return e}function create_auto(){var e=document.createElement("div");e.id=localStorage.theme;document.body.appendChild(e);for(var t=1;t<=10;t++){var n=document.createElement("img");n.className+="bgfade";e.appendChild(n);if(e.id=="#theme-1"){n.src="custombg/images/bg-themes/all/all"+t+".jpg"}if(e.id=="#theme-2"){n.src="custombg/images/bg-themes/girls/girl"+t+".jpg"}if(e.id=="#theme-3"){n.src="custombg/images/bg-themes/cars/car"+t+".jpg"}if(e.id=="#theme-4"){n.src="custombg/images/bg-themes/nature/nature"+t+".jpg"}}}function theme(e,t,n,r){while(e<=t){var i=document.createElement("div");i.className+="cursor-default ";i.className+="div-block ";i.className+="box";i.style.background="url(custombg/images/loading_dark_large.gif)";var s=document.createElement("img");s.id="theme-"+n+"-img-"+e;s.className+="img-block ";i.appendChild(s);document.getElementById(r).appendChild(i);if(n==1){document.getElementById("theme-"+n+"-img-"+e).src="custombg/images/bg-themes/all/all"+e+".jpg"}else if(n==2){document.getElementById("theme-"+n+"-img-"+e).src="custombg/images/bg-themes/girls/girl"+e+".jpg"}else if(n==3){document.getElementById("theme-"+n+"-img-"+e).src="custombg/images/bg-themes/cars/car"+e+".jpg"}else if(n==4){document.getElementById("theme-"+n+"-img-"+e).src="custombg/images/bg-themes/nature/nature"+e+".jpg"}s.setAttribute("onClick","changeimage(id)");e++}}function changeColor(e){setTimeout(function(){$(e).animate({backgroundColor:"red"},3500)},400);setTimeout(function(){$(e).animate({backgroundColor:"green"},4e3)},475);setTimeout(function(){$(e).animate({backgroundColor:"#D9803D"},4e3)},475);setTimeout(function(){$(e).animate({backgroundColor:"#9B59B6"},4e3)},475);setTimeout(function(){$(e).animate({backgroundColor:"#34495E"},4e3)},475);setTimeout(function(){$(e).animate({backgroundColor:"#660000"},4e3)},475);setTimeout(function(){$(e).animate({backgroundColor:"#999966"},4e3)},475);setTimeout(function(){$(e).animate({backgroundColor:"#C0392B"},4e3)},475);setTimeout(function(){$(e).animate({backgroundColor:"#1ABC9C"},4e3)},475);setTimeout(function(){$(e).animate({backgroundColor:"#16A085"},4e3)},475);setTimeout(function(){$(e).animate({backgroundColor:"#654E9C"},4e3)},475);ReStartchangeColor(e)}function ReStartchangeColor(e){setTimeout(function(){if(stopanimation==false){changeColor(e)}},400)}function demo_image(e){var t=1;if(e=="#theme-1"){while(t<=10){document.getElementById("demo-img-"+t).src="custombg/images/bg-themes/all/all"+t+".jpg";t++}flag=true}else if(e=="#theme-2"){while(t<=10){document.getElementById("demo-img-"+t).src="custombg/images/bg-themes/cars/car"+t+".jpg";t++}flag=true}else if(e=="#theme-3"){while(t<=10){document.getElementById("demo-img-"+t).src="custombg/images/bg-themes/girls/girl"+t+".jpg";t++}flag=true}else if(e=="#theme-4"){while(t<=10){document.getElementById("demo-img-"+t).src="custombg/images/bg-themes/nature/nature"+t+".jpg";t++}flag=true}}var color,col_mode,img_mode,img_auto_time,theme;var bgsize=localStorage.bg_size,bgposition=localStorage.bg_pos,bgrepeat=localStorage.bg_repeat,flag;var stopanimation=false;if(typeof Storage!="undefined"){if(localStorage.col=="null"){localStorage.setItem("img",image);localStorage.setItem("col",color);localStorage.setItem("bg_mode","defaultbg");localStorage.setItem("img_time");localStorage.setItem("theme");localStorage.setItem("bg_size");localStorage.setItem("bg_pos");localStorage.setItem("bg_repeat")}}else{document.getElementById("check").value="Sorry, your browser does not support this feature.."}var oFReader=new FileReader,rFilter=/^(?:image\/bmp|image\/cis\-cod|image\/gif|image\/ief|image\/jpeg|image\/jpeg|image\/jpeg|image\/pipeg|image\/png|image\/svg\+xml|image\/tiff|image\/x\-cmu\-raster|image\/x\-cmx|image\/x\-icon|image\/x\-portable\-anymap|image\/x\-portable\-bitmap|image\/x\-portable\-graymap|image\/x\-portable\-pixmap|image\/x\-rgb|image\/x\-xbitmap|image\/x\-xpixmap|image\/x\-xwindowdump)$/i;oFReader.onload=function(e){localStorage.setItem("bgimg",e.target.result);openBackground()};$(document).ready(function(e){function o(e,t){if(t){$("img.bgfade").hide();var n=window.outerHeight;var r=window.outerWidth;$("#theme-div").css({height:n,width:r});function i(){$("#theme-div img.bgfade").first().appendTo("#theme-div").fadeOut(1500);$("#theme-div img").first().fadeIn(1500);if(localStorage.img_time){time=localStorage.img_time}else{time=5e3}slider=setTimeout(i,time)}}i()}if(localStorage.bg_mode=="defaultbg"){document.body.style.background="url(custombg/images/bg-themes/all/all1.jpg)";bg_adjust()}if(localStorage.bg_mode=="choosen_color"||localStorage.bg_mode=="custom_color"){document.body.style.background=localStorage.col}if(localStorage.bg_mode=="random_color"){document.body.style.background="#"+RND()}if(localStorage.bg_mode=="changing_color"){var t=false;changeColor("body")}if(localStorage.bg_mode=="choosen_image"){document.body.style.background="url("+localStorage.getItem("imgInfo")+")";bg_adjust()}if(localStorage.bg_mode=="custom_image"){var n=localStorage.getItem("bgimg");$("body").css("background","url("+n+")");bg_adjust()}if(localStorage.bg_mode=="auto_change_image"){demo_image(localStorage.theme);o(localStorage.theme,flag);bg_adjust()}if(localStorage.bg_mode=="random_image"){function r(e,t){return Math.floor(Math.random()*(t-e+1))+e}if(localStorage.theme=="#theme-1"){var i=r(1,8);var s="custombg/images/bg-themes/all/all"+i+".jpg";document.body.style.background="url("+s+")"}else if(localStorage.theme=="#theme-2"){var i=r(1,8);var s="custombg/images/bg-themes/cars/car"+i+".jpg";document.body.style.background="url("+s+")"}else if(localStorage.theme=="#theme-3"){var i=r(1,8);var s="custombg/images/bg-themes/girls/girl"+i+".jpg";document.body.style.background="url("+s+")"}else if(localStorage.theme=="#theme-4"){var i=r(1,8);var s="custombg/images/bg-themes/nature/nature"+i+".jpg";document.body.style.background="url("+s+")"}bg_adjust()}})